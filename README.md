[![License badge](https://img.shields.io/badge/license-Apache2-green.svg)](http://www.apache.org/licenses/LICENSE-2.0)
[![Documentation badge](https://img.shields.io/badge/docs-latest-brightgreen.svg)](http://elastest.io/docs/)
[![Build Status](https://ci.elastest.io/jenkins/buildStatus/icon?job=elastest-instrumentation-manager/eim)](https://ci.elastest.io/jenkins/job/elastest-instrumentation-manager/eim)

[![][ElasTest Logo]][ElasTest]

Copyright © 2017-2019 [ElasTest]. Licensed under [Apache 2.0 License].

elastest-instrumentation-manager (eim)
==============================

The ElasTest Instrumentation Manager (EIM) component controls and orchestrates the Instrumentation Agents that are deployed in ElasTest platform. These agents instrument the operating system kernel of the SuT (Software under test) host instances. Thanks to it, the agent is capable of exposing observability, through which the Agent collects all information relevant for testing or monitoring purposes (e.g. energy consumption, resources utilization, etc.) 

## Prerequisites
It is mandatory to have the following software installed to be able to run the project:
- Docker Compose: https://docs.docker.com/compose/install/
- Git: https://www.atlassian.com/git/tutorials/install-git

### Clone the project
    # Clone the project to your system
    git clone https://github.com/elastest/elastest-instrumentation-manager.git
    # If you do not have git installed, you can also download the zip file from GithHub
    
    # Change working directory to main project folder
    cd elastest-instrumentation-manager
    
### Setting up the environment with docker-compose
Note: your terminal need to be in the main project folder where the docker-compose.yml is located.

You can start this image using docker-compose. It will start the following:

- A MongoDB instance (to store the agents generated by EIM)
- A ElasticSearch instance
- A Logstash instance
- A Kibana instance
- A SuT instance (ubuntu14.04 based system used by EIM to actuate)
- A Elastest Instrumentation Manager instance (component to manage the Instrumentation Agents over the ElasTest platform)

### Launch environment
    docker-compose up

Please note that it will take some time (in the order of several seconds - depending on your system) for all the services to be fully available.
   
## Adding new Instrumentation Agent
### Prerequisites 
   - Ubuntu 14.04
   - SSH server running
   - elastest user created
## Installing Beats in SuT host
The EIM is able to deploy the following beats using the Instrumentation agents created in SuT:
- packetbeat
- filebeat
- topbeat


# What is ElasTest

This repository is part of [ElasTest], which is an open source elastic platform
aimed to simplify end-to-end testing. ElasTest platform is based on three
principles 
<br>
i) Test orchestration Combining intelligently testing units for
creating a more complete test suite following the “divide and conquer” principle.
<br>
ii) Instrumentation and monitoring customizing the SuT (Subject under Test)
infrastructure so that it reproduces real-world operational behavior and allowing
to gather relevant information during testing. 
<br>
iii) Test recommendation Using machine
learning and cognitive computing for recommending testing actions and providing
testers with friendly interactive facilities for decision taking.

# Documentation

The [ElasTest] project provides detailed documentation including tutorials,
installation and development guide.

# Source
Source code for other ElasTest projects can be found in the [GitHub ElasTest
Group].

# Support
If you need help and support with the EIM, please refer to the ElasTest [Bugtracker]. 
Here you can find the help you need.

# News
Follow us on Twitter @[ElasTest Twitter].

# Contribution policy
You can contribute to the ElasTest community through bug-reports, bug-fixes,
new code or new documentation. For contributing to the ElasTest community,
you can use the issue support of GitHub providing full information about your
contribution and its value. In your contributions, you must comply with the
following guidelines

 You must specify the specific contents of your contribution either through a
  detailed bug description, through a pull-request or through a patch.
 You must specify the licensing restrictions of the code you contribute.
 For newly created code to be incorporated in the ElasTest code-base, you
  must accept ElasTest to own the code copyright, so that its open source
  nature is guaranteed.
 You must justify appropriately the need and value of your contribution. The
  ElasTest project has no obligations in relation to accepting contributions
  from third parties.
 The ElasTest project leaders have the right of asking for further
  explanations, tests or validations of any code contributed to the community
  before it being incorporated into the ElasTest code-base. You must be ready
  to addressing all these kind of concerns before having your code approved.

# Licensing and distribution
Licensed under the Apache License, Version 2.0 (the License);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.

Contribution policy
-------------------

You can contribute to the ElasTest community through bug-reports, bug-fixes,
new code or new documentation. For contributing to the ElasTest community,
you can use GitHub, providing full information about your contribution and its
value. In your contributions, you must comply with the following guidelines

* You must specify the specific contents of your contribution either through a
  detailed bug description, through a pull-request or through a patch.
* You must specify the licensing restrictions of the code you contribute.
* For newly created code to be incorporated in the ElasTest code-base, you
  must accept ElasTest to own the code copyright, so that its open source
  nature is guaranteed.
* You must justify appropriately the need and value of your contribution. The
  ElasTest project has no obligations in relation to accepting contributions
  from third parties.
* The ElasTest project leaders have the right of asking for further
  explanations, tests or validations of any code contributed to the community
  before it being incorporated into the ElasTest code-base. You must be ready
  to addressing all these kind of concerns before having your code approved.

Support
-------

The ElasTest project provides community support through the [ElasTest Public
Mailing List] and through [StackOverflow] using the tag *elastest*.


<p align="center">
  <img src="http://elastest.io/images/logos_elastest/ue_logo-small.png"><br>
  Funded by the European Union
</p>

[Apache 2.0 License]: http://www.apache.org/licenses/LICENSE-2.0
[ElasTest]: http://elastest.io/
[ElasTest Logo]: http://elastest.io/images/logos_elastest/elastest-logo-gray-small.png
[ElasTest Twitter]: https://twitter.com/elastestio
[GitHub ElasTest Group]: https://github.com/elastest
[Bugtracker]: https://github.com/elastest/bugtracker
